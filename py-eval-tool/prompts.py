EVAL_NOVEL_USER_PROMPT = """あなたはライトノベル編集者です。

以下のJSON形式の小説データを読み込み、章ごとに要約したうえで、作品全体を評価してください。  

### 評価基準（1〜10点）

- 物語のテンポ  
- キャラクターの魅力  
- 文体の読みやすさ  
- 世界観の独自性  
- 読者ターゲット適合度  

### 出力フォーマット (⚠️ **出力は必ずJSON形式のみで行い、説明文や補足などJSON以外の文字列を絶対に含めないこと。**）

{{
  "title": "",
  "overall_score": 数値（100点満点換算）,
  "scores": {{
    "tempo": 数値,
    "characters": 数値,
    "style": 数値,
    "worldbuilding": 数値,
    "target_fit": 数値
  }},
  "comments": {{
    "strengths": ["強み1", "強み2", "強み3"],
    "weaknesses": ["改善点1", "改善点2", "改善点3"]
  }}
  "final_summary": "小説全体の総合的な講評をここに記述する"
}}

### 小説データ

{novel_json}
"""


EVAL_SUB_NOVEL_USER_PROMPT = """あなたはライトノベル編集者です。

以下のJSON形式の小説データを読み込み、章ごとに要約したうえで、作品の一部（このエピソード範囲のみ）を評価してください。  

⚠️ 注意事項
- この小説データは全体の一部であり、すべてのエピソードは含まれていません。  
- 今回は **提供された範囲のみ** を対象に要約と評価を行ってください。  
- 作品全体の最終的な総合レビューは、全エピソードの評価を統合したあとに行います。  
- 各評価は提示された基準に基づき、1〜10点で採点してください。  

### 評価基準（1〜10点）

- 物語のテンポ  
- キャラクターの魅力  
- 文体の読みやすさ  
- 世界観の独自性  
- 読者ターゲット適合度  

### 出力フォーマット

{{
  "title": "",
  "episode_range": "開始エピソード番号 - 終了エピソード番号",
  "overall_score": 数値（100点満点換算）,
  "scores": {{
    "tempo": 数値,
    "characters": 数値,
    "style": 数値,
    "worldbuilding": 数値,
    "target_fit": 数値
  }},
  "comments": {{
    "strengths": ["強み1", "強み2", "強み3"],
    "weaknesses": ["改善点1", "改善点2", "改善点3"]
  }}
}}

### 小説データ

{novel_json}
"""

EVAL_FULL_NOVEL_USER_PROMPT = """あなたはライトノベル編集者です。

以下に、複数のサブエピソード範囲ごとのレビュー結果があります。  
各レビューは小説の部分的な評価ですが、ここではそれらを総合して **作品全体の最終レビュー** を作成してください。  

### 指示
- すべてのサブレビューを読み込み、重複や矛盾を整理して統合してください。  
- 評価スコアは各サブレビューの内容を平均・補正し、全体的な印象に基づいて最終スコアを決定してください。  
- 強み・弱みのコメントは、各部分レビューで繰り返し指摘された要素を優先しつつ、重要なポイントを抽出してください。  
- 最後に **総合的な講評** を簡潔にまとめてください。  
- ⚠️ **出力は必ずJSON形式のみで行い、説明文や補足などJSON以外の文字列を絶対に含めないこと。**

### 評価基準（1〜10点）
- 物語のテンポ  
- キャラクターの魅力  
- 文体の読みやすさ  
- 世界観の独自性  
- 読者ターゲット適合度  

### 出力フォーマット

{
  "title": "",
  "overall_score": 数値（100点満点換算）,
  "scores": {
    "tempo": 数値,
    "characters": 数値,
    "style": 数値,
    "worldbuilding": 数値,
    "target_fit": 数値
  },
  "comments": {
    "strengths": ["強み1", "強み2", "強み3"],
    "weaknesses": ["改善点1", "改善点2", "改善点3"]
  },
  "final_summary": "小説全体の総合的な講評をここに記述する"
}

### サブエピソードレビュー
{sub_reviews}
"""